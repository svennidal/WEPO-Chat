<div class="alert alert-danger" ng-cloak ng-show="errorMessage != ''">
	{{errorMessage}}
</div>

<h3>Hi {{currentUser}} - Room {{currentRoom}}</h3>
<div class="col-md-9">
	TODO - display chat

	<h4>Chats</h4>
		<!--<div schroll-bottom='messages'>-->
	<table class='messageList'>
		<tr class='singleMessage' ng-repeat='msg in messages'>
			<td class='nick'>{{msg.nick}}</td>
			<td class='messageData'>{{msg.message}}</td>
			<td class='timestamp'>{{msg.timestamp}}</td>
		</tr>
	</table>

		<!--
		<ul>
			<li ng-repeat='msg in messages'>{{msg.timestamp}}  <h4>{{msg.nick}}</h4>:  {{msg.message}}</li>
		</ul>
	</div>
	-->
		<!--</div>-->

	<form ng-submit='sendMessage()'>
		<input type='text' class='form-control' id='message' autocomplete='off' name='message' ng-model='message' />
		<!--<input type='submit' value='Send' />-->
		<button type='button' class='btn btn-primary' ng-click='sendMessage()'>Send</button>
	</form>

</div>
<div class="col-md-3">
	<h4>Users in this room</h4>
	<button type='button' class='btn btn-warning btn-sm' ng-click='leaveRoom()' href='/#/rooms/{{currentUser}}'>Leave</button>
	<div class="well">	
		<ul>
			<li class='ops' ng-repeat="op in currentOps">{{op}}
			<button class='btn btn-warning btn-xs' ng-click='kickUser(op)'>Kick</button>
			<button class='btn btn-danger btn-xs' ng-click='banUser(op)'>Ban</button>
			<button class='btn btn-info btn-xs' ng-click='deOpOp(op)'>DeOp</button>
			</li>
		</ul>
	</div>
	<div class="well">	
		<ul>
			<li class='users' ng-repeat="user in currentUsers">{{user}}
			<button class='btn btn-warning btn-xs' ng-click='kickUser(user)'>Kick</button>
			<button class='btn btn-danger btn-xs' ng-click='banUser(user)'>Ban</button>
			<button class='btn btn-info btn-xs' ng-click='opUser(user)'>Op</button>
			</li>
		</ul>
	</div>
	<div class="well">	
		<ul>
			<li class='banned' ng-repeat="banned in currentBanned">{{banned}}
			<button class='btn btn-success btn-xs' ng-click='unBanUser(banned)'>Unban</button>
			</li>
		</ul>
	</div>
</div>
